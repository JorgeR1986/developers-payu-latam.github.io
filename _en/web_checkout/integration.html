---
title: Integration
subcategory: payments
---

<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.min.js"></script>
          	<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/additional-methods.min.js"></script>
                <script src="../../js/jquery-validate.bootstrap-tooltip.min.js"></script>
          	<script src="../../js/signature-generator/validations.js"></script>
         	<script src="../../js/signature-generator/md5.js"></script>
         	<script src="../../js/signature-generator/sha1.js"></script>
         	<script src="../../js/signature-generator/sha256.js"></script>
                <script src="../../js/signature-generator/signature-generator.js"></script>
                <script>

                    var errApiKeyReq = "Please enter the ApiKey"
                    var errApiKeyMin = "Please enter more than 5 digits"
                    var errApiKeyMax = "Please enter less than  32 digits"
                    var errMerchantReq = "Please enter the Merchant Id"
                    var errMerchantMin = "Please enter more than 5 digits"
                    var errMerchantMax = "Please enter less than 7 digits"
                    var errMerchantPosi = "Please enter a positive number"
                    var errMerchantNum = "Please enter just numbers"
                    var errReferenceReq = "Please enter the Reference Code"
                    var errReferenceMin = "Please enter the Reference Code"
                    var errReferenceMax = "Please enter less than 255 digits"
                    var errAmountReq = "Please enter the Amount"
                    var errAmountMin = "Please enter the Amount"
                    var errAmountMax = "Please enter less than 14 digits"
                    var errAmountPosi = "Please enter a positive number"
                    var errAmountNum = "Please enter just numbers"
                    var errCurrReq = "Please enter a valid Currency in format ISO 4217"
                    var errCurrMin = "Please enter more than 3 digits"
                    var errCurrMax = "Please enter less than 3 digits"
                    var errTsReq = "Please enter the transaction code"
                    var errTsMin = "Please enter the transaction code"
                    var errTsMax = "Please enter the transaction code less than 3 digits"
                    var errSpReq = "Please enter the transaction code"
                    var errSpMin = "Please enter the transaction code"
                    var errSpMax = "Please enter the transaction code less than 1 digit"

                </script>

<div class="payu-page-header superhero-sticky">
<h1 class="payu-title1 bgreen">Webcheckout integration</h1>

</div>

<div class="sh-container payu-white-bg">
<div class="container">
<div class="row" style="background-color: #f5f5f5;">

{% include sidemenu_webcheckout_en.html %}

<div id="page-menu-column2">


<br>
To know the general working of the Webcheckout integration components go to the  <a href="{{ site.baseurl }}/en/web_checkout/">introduction page</a>.
<br><br>
Below, you will find the components to perform the Webcheckout integration.


<div class="squelch-taas-tab-group squelch-taas-override" data-title="" data-disabled="false" data-collapsible="false" data-active="0" data-event="click">
	<ul>
		<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-1">1. Payment form</a></li>
		<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-2">2. Response page</a></li>
		<li class="squelch-taas-tab"><a href="#squelch-taas-tab-content-3">3. Confirmation page</a></li>

	</ul>
<div id="squelch-taas-tab-content-1">
<div id="formulario-de-pago" class="payu-fragment">

<span class="subtitle-page">Payment form</span>

<span class="grey-text-13">In this section you will see how to send data from one transaction to PayU.
You must generate an HTML form with the transaction data using the HTTP POST method and pointing it to our system.</span><br>
<div id="blue-box">
<div id="info-box">Consider:</div>
<ol>

<li class="bullet-box">Make sure you have the correct merchantId, accountId and apikey.</li>
<li class="bullet-box">Be careful not to include spaces in parameter values.</li>
<li class="bullet-box">Use a different payment reference for each payment.</li>
<li class="bullet-box">Do not send values with more than two decimal places.</li>
<li class="bullet-box">Do not use special characters in the "referenceCode" parameter.</li>


</ol>
</div>
&nbsp;<br>
 Sample <b>HTML</b> with some of the parameters you can send:
<pre><code>
 &lt;form method=&quot;post&quot; action=&quot;https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/&quot;&gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">merchantId</span>&quot;    type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">508029</span>&quot;   &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">accountId</span>&quot;     type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">512321</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">description</span>&quot;   type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">Test PAYU</span>&quot;  &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">referenceCode</span>&quot; type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">TestPayU</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">amount</span>&quot;        type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">20000</span>&quot;   &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">tax</span>&quot;           type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">3193</span>&quot;  &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">taxReturnBase</span>&quot; type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">16806</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">currency</span>&quot;      type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">COP</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">signature</span>&quot;     type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">7ee7cf808ce6a39b17481c54f2c57acc</span>&quot;  &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">test</span>&quot;          type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">0</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">buyerEmail</span>&quot;    type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">test@test.com</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">responseUrl</span>&quot;    type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">http://www.test.com/response</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">confirmationUrl</span>&quot;    type=&quot;hidden&quot;  value=&quot;<span class="highlight-txt2">http://www.test.com/confirmation</span>&quot; &gt;
&nbsp;&nbsp;&lt;input name=&quot;<span class="highlight-txt2">Submit</span>&quot;        type=&quot;submit&quot;  value=&quot;<span class="highlight-txt2">Enviar</span>&quot; &gt;
&lt;/form&gt;
</code></pre>
 &nbsp;<br>
<span class="grey-text-13"><strong>Note</strong>: If your store sends products, you must send us the following parameters:</span>
<div id="blue-box">
    <span class="grey-text-13">
        &nbsp;&nbsp;&lt;input name="<span class="highlight-txt2">shippingAddress</span>"    type="hidden"  value="<span class="highlight-txt2">93 Main St 4765</span>" &gt;
         <br>
        &nbsp;&nbsp;&lt;input name="<span class="highlight-txt2">shippingCity</span>"    type="hidden"  value="<span class="highlight-txt2">Bogota</span>" &gt;
         <br>
        &nbsp;&nbsp;&lt;input name="<span class="highlight-txt2">shippingCountry</span>"    type="hidden"  value="<span class="highlight-txt2">CO</span>" &gt;
         <br>
    </span>
</div>
<p>&nbsp;<br>
<span class="grey-text-13">Once you generate the HTML form you should aim at the following URL:</span>
<div id="blue-box">
<span class="grey-text-13">Test: <b>https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/</b><br><br>
Live: <b>https://checkout.payulatam.com/ppp-web-gateway-payu/</b></span>
</div>
<p>&nbsp;<br>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">Minimum data you must send in the form</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" ></p>
<table class="table-d" >
<tr bgcolor="#696a6c">
<td><span style="color: #fff; font-weight: bold;">Field</span></td>
<td><span style="color: #fff; font-weight: bold;">Type</span></td>
<td><span style="color: #fff; font-weight: bold;">Size</span></td>
<td><span style="color: #fff; font-weight: bold;">Description</span></td>
<td><span style="color: #fff; font-weight: bold;">Required in</span></td>
</tr>
<tr>
<td><em>merchantId</em></td>
<td>Numeric</td>
<td style="text-align: center;">12</td>
<td>It is the ID number of the shop in PayU’s system, you will find this number in the account creation mail.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>referenceCode</em></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the reference of the sale or order. It must be unique for each transaction that is sent to the system. Usually it is a way to identify the requests that are sent to the payment gateway.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>description </em></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the sale’s description.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>amount</em></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the total amount of the transaction. It can contain two decimal digits. For example 10000.00 and 10000.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>tax </em></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the value of the VAT (Value Added Tax only valid for Colombia) of the transaction, if no VAT is sent, the system will apply 19% automatically. It can contain two decimal digits. Example 19000.00. In case you have no VAT you should fill out 0.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>taxReturnBase</em></td>
<td>Numeric</td>
<td style="text-align: center;">32</td>
<td>It is the base value on which VAT (only valid for Colombia) is calculated. If you do not have VAT should be sent to 0.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>signature</em></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the digital signature created for each of the transactions.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>accountId</em></td>
<td>Numeric</td>
<td style="text-align: center;">6</td>
<td>ID of the account for each country associated with the shop, by sending it the only the payment means belonging to that country will be displayed.</td>
<td align="center">All countries</td>
</tr>
<tr>
<td><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=06">currency</a></em></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">3</td>
<td>The respective currency in which the payment is made. The reconciliation process is performed in pesos at the representative rate of the day.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>buyerFullName</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">150</td>
<td>The buyer’s full name.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>buyerEmail</em></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Field that contains the buyer’s email to notify the result of the transaction by email. It is recommended to validate if this data is taken in a form.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>shippingAddress</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The delivery address of the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>shippingCity</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The delivery City of the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>shippingCountry</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">2</td>
<td>The delivery ISO country code for the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>telephone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The buyer’s residence phone.</td>
<td>All countries</td>
</tr>
</table>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
All variables that you can send in the form</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<table class="table-d" >
<tr bgcolor="#696a6c">
<td><span style="color: #fff; font-weight: bold;">Field</span></td>
<td><span style="color: #fff; font-weight: bold;">Type</span></td>
<td><span style="color: #fff; font-weight: bold;">Size</span></td>
<td><span style="color: #fff; font-weight: bold;">Description</span></td>
<td><span style="color: #fff; font-weight: bold;">Required in</span></td>
</tr>
<tr>
<td><i>amount</i></td>
<td>Numeric</td>
<td style="text-align: center;">14</td>
<td>It is the total amount of the transaction. It can contain two decimal digits. Example 10000.00 or 10000.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>merchantId</i></td>
<td>Numeric</td>
<td style="text-align: center;">12</td>
<td>It is the ID number of your shop in PayU’s system, you will find this number in the account creation email.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>referenceCode</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the reference of the sale or order. It must be unique for each transaction that is sent to the system. Usually it is a way to identify the requests that are sent to the payment gateway.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>accountId</i></td>
<td>Numeric</td>
<td style="text-align: center;">6</td>
<td>ID of the user account for each country associated with the shop, by sending only payment means belonging to that country will be displayed.</td>
<td align="center">All countries</td>
</tr>
<tr>
<td><i>description</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the sale’s description.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>tax</i></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the value of the VAT of the transaction, if no VAT is sent, the system will apply 19% automatically. It can contain two decimal digits. For example 19000.00. In case you have no VAT you should fill out 0.</td>
<td>All countries</td>
</tr>
<tr>
<td><em>taxReturnBase</em></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the value base with which VAT is calculated. If you do not have VAT, you should fill out 0.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>signature</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the digital signature created for each of the transactions.</td>
<td>All countries</td>
</tr>
<tr>
<td><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=06">currency</a></em></td>
<td>Alpha numeric</td>
<td style="text-align: center;">3</td>
<td>The respective currency in which the payment is made. The reconciliation process is performed in pesos at the representative rate of the day.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>test</i></td>
<td>Numeric</td>
<td style="text-align: center;">1</td>
<td>Variable to be able to use test credit cards, values can be 1 or 0.</td>
<td style="text-align: center;" valign="top" width="80">&#8212;</td>
</tr>
<tr>
<td><i>buyerEmail</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Field that contains the buyer’s email to notify the result of the transaction by email. It is recommended to validate if this data is taken in a form.</td>
<td>All countries</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=07">lng</a></i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">3</td>
<td>Language in which the payment gateway is wished to be displayed.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra1 </i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, description of the purchase if you would want to view it on the response page.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra2</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, Internal codes of the products.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>responseUrl</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The URL of the response page.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>confirmationUrl</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The URL of the confirmation page.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>payerFullName</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The payer’s name. This value will be taken to fill out the credit card form.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>payerDocument</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">25</td>
<td>The buyer’s identification number. This value will be taken to fill out the credit card form.</td>
<td style="text-align: center;" width="80">&#8212;</td>
</tr>
<tr>
<td><i>mobilePhone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The buyer’s cell phone number. This value will be taken to fill out the credit card form and will be the contact telephone number.</td>
<td style="text-align: center;" width="80">&#8212;</td>
</tr>
<tr>
<td><i>billingAddress</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The correspondence address.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>shippingAddress</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The delivery address of the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>telephone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The buyer’s residence phone.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>officeTelephone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The buyer’s daytime phone.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>algorithmSignature</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Encryption algorithm of the digital signature (signature). The three available algorithms are: MD5, SHA and SHA256.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra3</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, internal codes of the products.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>billingCity</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>City associated with the billing address.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>shippingCity</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>The delivery City of the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>zipCode</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">20</td>
<td>Postal code.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>billingCountry</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">2</td>
<td>The ISO country code associated with the billing address.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>shippingCountry</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">2</td>
<td>The delivery ISO country code for the merchandise.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>buyerFullName</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">150</td>
<td>The buyer’s full name.</td>
<td>All countries</td>
</tr>
<tr>
<td><i>payerEmail</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The payer’s email.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>payerPhone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">20</td>
<td>The payer’s phone number.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>payerOfficePhone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">20</td>
<td>The payer’s workplace phone number.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>payerMobilePhone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">20</td>
<td>The payer’s mobile phone number.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
</table>
</div></div>
<br/>
<span class="blue-text-13"><b>Considerations about the Variables</b></span>
<ol>
<li class="bullet-box">The <b>tax</b> is a value added tax that may be used in some countries and the <b>taxReturnBase</b> is the base value on which VAT is calculated. If your product does not just apply for this tax, simply both variables take the value 0 <b>(tax=0, taxReturnBase=0)</b>. Conversely, if some elements have the tax and it does not apply to others, you must perform the following calculation to find out how to send the values to the payment platform.</li>

<li class="bullet-box">If the <b>tax</b> value is not sent, the system automatically will calculate it as 19%.</li>

<li class="bullet-box">For businesses registered in Colombia that belong to the common program (régimen común), if you do not send the <b>tax</b>, value, the system will automatically calculate the value. If your business belongs to the simplified program (regimen simplificado) and you do not send the tax value, the system will assign the value as zero (0).<br><br/>
<span class="blue-text-13">Note: The amount of tax + taxReturnBase cannot be greater than the Total Value.</span>

<table class="table-d" >
<tr bgcolor="#696a6c">
<td><span style="color: #fff; font-weight: bold;">Product</span></td>
<td><span style="color: #fff; font-weight: bold;">taxReturnBase</span></td>
<td><span style="color: #fff; font-weight: bold;">tax</span></td>
<td><span style="color: #fff; font-weight: bold;">Amount</span></td>
</tr>
<tr>
<td><i>A</i></td>
<td>84.033</td>
<td>15.966 (19%)</td>
<td>100.000</td>
</tr>
<tr>
<td><i>B</i></td>
<td>181.818</td>
<td>18.181 (10%)</td>
<td>200.000</td>
</tr>
<tr>
<td><i>C</i></td>
<td>0</td>
<td>0 (0%)</td>
<td>150.000</td>
</tr>
<tr>
<td><i>Total</i></td>
<td>268.851</td>
<td>34.147</td>
<td>450.000</td>
</tr>
</table>
</li>

<li class="bullet-box">The <b>signature</b> is a unique way to validate payments made through the platform, ensuring its authenticity. It consists of a character string to which the MD5, SHA1 or SHA256 algorithm is applied for encryption. The string is composed as follows:

<pre>
“ApiKey~merchantId~referenceCode~amount~currency”.
</pre>

<span class="grey-text-13">For example:</span>

<pre>
merchantId: 508029
ApiKey: 4Vj8eK4rloUd272L48hsrarnUA
referenceCode: TestPayU
amount: 20000
currency: COP
accountId: 512326
buyerEmail: test@test.com
</pre>

<span class="grey-text-13">The signature would be:</span>

<pre>
"4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU~20000~COP"
</pre>
<span class="grey-text-13">To this signature <b>MD5</b> is applied:</span>
<pre>
"7ee7cf808ce6a39b17481c54f2c57acc"
</pre>
<span class="grey-text-13">With <b>SHA1</b>:</span>
<pre>
"fa890d3f94e12b5cdb62e8771453b99b78e7ccdc"
</pre>
<span class="grey-text-13">With <b>SHA256</b>:</span>
<pre>
"af3899a22336b79db46006491d15813158826f944599bf3bf601e2327f898022"
</pre>
</li>
</ol>
</div>

<!-- Signature generator -->
<div id="blue-box">
<span class="subtitle-page">Compare your signature</span>
<br>
<br>
<span class="grey-text-13">
<div id = "div_generador" >

<form method="POST" id="signature_form" >
    <table>
        <span class="blue-text-13"><b>Algorithm: &nbsp;</b></span>
        <select id = "signature_algorithm" class="calc_selector form_control">
            <option  value="md5">MD5</option>
            <option  value="sha1">SHA1</option>
            <option  value="sha256">SHA256</option>
        </select>
        <br>
        <br>
        <span class="calc_text">&nbsp;(</span>
        <input class="form_control" type="text"  id ="signature_apikey" name = "signature_apikey" placeholder="ApiKey" maxlength="26"> ~
        <input class="form_control number" type="text"  id ="signature_merchanId" name = "signature_merchanId" placeholder="MerchantId" maxlength="7"> ~
        <input class="form_control" type="text"  id ="signature_referenceCode" name = "signature_referenceCode" placeholder="Reference" maxlength="255"> ~
        <input class="form_control  number" type="text" id ="signature_amount" name = "signature_amount" placeholder="Amount" maxlength="14"> ~
        <select id = "signature_currency" class="calc_selector form_control" >
            <option  value="USD">USD</option>
            <option  value="COP">COP</option>
            <option  value="MXN">MXN</option>
            <option  value="ARS">ARS</option>
            <option  value="PEN">PEN</option>
            <option  value="BRL">BRL</option>
            <option  value="CLP">CLP</option>
        </select>
        <span class="calc_text">)</span>
        <br>
        <br>
        <br>
        <span class="blue-text-13"><b>Result:&nbsp;</b></span><input class="form_control" id ="signature_generated" name = "signature_generated" value = ""  readonly />
    </table>
    <br>
    <table width="50%"  border="0" cellspacing="2" cellpadding="2">
        <input type="button" name="signature_generate" id="signature_generate" value="Generate signature" >
        <input type="button" name="signature_generate_again" id="signature_generate_again" value="Generate new signature" >
    </table>
</form>
</div>
</span>
</div>
<!-- End of signature generator -->

</div>
<!--fin integracion -->

<!--pagina de respuesta -->
<div id="squelch-taas-tab-content-2">
<div id="pagina-respuesta" class="payu-fragment">

<span class="subtitle-page">Response page</span>

<span class="grey-text-13">At the end of a transaction our system will send the payer to the response page. Our system sends information about the state of a transaction to this page via the HTTP GET method.</span>
<br/><br/>
If you want PayU to display always the information of the transaction, be sure not to send anything in the "responseUrl" parameter in the payment form and <a href="{{ site.baseurl }}/en/administrative_module/configuration.html" class="green-link">leave it blank in PayU Biz</a>. Note that in this case, the user will have the option of returning to your website.
</span>




<div id="blue-box">
<div id="info-box">Consider:</div>
<ol>

<li class="bullet-box">Some hosting providers have settings that do not allow sending URLs as URLs parameter values. example: &amp;merchant_url=http%3A%2F%2Fwww.lamiradaoptica.com </li>
<li class="bullet-box">For Brazil accounts, there is not redirection to the response page.</li>
<li class="bullet-box">Do not depend on the response page to update your database or execute processes because it is possible that the user does not return to it; use the confirmation page.</li>
<li class="bullet-box">If you want to display information related to the transaction we suggest to show at least the following: status, reference value, currency and date.</li>
<li class="bullet-box">You must send the "responseURL" parameter in the payment form or <a class="green-link" href="{{ site.baseurl }}/en/administrative_module/configuration.html">set it PayU Biz</a>; it has priority the one sent in the parameter. If PayU does not find any, the payment process ends at the Webcheckout. </li>


</ol>
</div>

&nbsp;<br>

<span class="grey-text-13">The following is an example in <b>PHP</b> of how you can integrate the response page:</span>
<pre style="height:350px; overflow: auto;">
&lt;?php
$ApiKey = &quot;4Vj8eK4rloUd272L48hsrarnUA&quot;;
$merchant_id = $_REQUEST['merchantId'];
$referenceCode = $_REQUEST['referenceCode'];
$TX_VALUE = $_REQUEST['TX_VALUE'];
$New_value = number_format($TX_VALUE, 1, '.', '');
$currency = $_REQUEST['currency'];
$transactionState = $_REQUEST['transactionState'];
$firma_cadena = &quot;$ApiKey~$merchant_id~$referenceCode~$New_value~$currency~$transactionState&quot;;
$firmacreada = md5($firma_cadena);
$firma = $_REQUEST['signature'];
$reference_pol = $_REQUEST['reference_pol'];
$cus = $_REQUEST['cus'];
$extra1 = $_REQUEST['description'];
$pseBank = $_REQUEST['pseBank'];
$lapPaymentMethod = $_REQUEST['lapPaymentMethod'];
$transactionId = $_REQUEST['transactionId'];

if ($_REQUEST['transactionState'] == 4 ) {
	$estadoTx = &quot;Transaction approved&quot;;
}

else if ($_REQUEST['transactionState'] == 6 ) {
	$estadoTx = &quot;Transaction rejected&quot;;
}

else if ($_REQUEST['transactionState'] == 104 ) {
	$estadoTx = &quot;Error&quot;;
}

else if ($_REQUEST['transactionState'] == 7 ) {
	$estadoTx = &quot;Pending payment&quot;;
}

else {
	$estadoTx=$_REQUEST['mensaje'];
}


if (strtoupper($firma) == strtoupper($firmacreada)) {
?&gt;
	&lt;h2&gt;Transaction Summary&lt;/h2&gt;
	&lt;table&gt;
	&lt;tr&gt;
	&lt;td&gt;Transaction status&lt;/td&gt;
	&lt;td&gt;&lt;?php echo $estadoTx; ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Transaction ID&lt;/td&gt;
	&lt;td&gt;&lt;?php echo $transactionId; ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Reference sale&lt;/td&gt;
	&lt;td&gt;&lt;?php echo $reference_pol; ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Reference transaction&lt;/td&gt;
	&lt;td&gt;&lt;?php echo $referenceCode; ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;?php
	if($pseBank != null) {
	?&gt;
		&lt;tr&gt;
		&lt;td&gt;cus &lt;/td&gt;
		&lt;td&gt;&lt;?php echo $cus; ?&gt; &lt;/td&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
		&lt;td&gt;Bank &lt;/td&gt;
		&lt;td&gt;&lt;?php echo $pseBank; ?&gt; &lt;/td&gt;
		&lt;/tr&gt;
	&lt;?php
	}
	?&gt;
	&lt;tr&gt;
	&lt;td&gt;total amount&lt;/td&gt;
	&lt;td&gt;$&lt;?php echo number_format($TX_VALUE); ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Currency&lt;/td&gt;
	&lt;td&gt;&lt;?php echo $currency; ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Description&lt;/td&gt;
	&lt;td&gt;&lt;?php echo ($extra1); ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
	&lt;td&gt;Entity:&lt;/td&gt;
	&lt;td&gt;&lt;?php echo ($lapPaymentMethod); ?&gt;&lt;/td&gt;
	&lt;/tr&gt;
	&lt;/table&gt;
&lt;?php
}
else
{
?&gt;
	&lt;h1&gt;Error validating digital signature.&lt;/h1&gt;
&lt;?php
}
?&gt;
</pre>
<span class="blue-text-13">Note: In the above example, replace the <b>APIKEY</b> code for the one you will find in your Administrative Module.</span>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
Variables sent to the response page</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<table class="table-d" >
<tr bgcolor="#696a6c">
<td><span style="color: #fff; font-weight: bold;">Field</span></td>
<td><span style="color: #fff; font-weight: bold;">Type</span></td>
<td><span style="color: #fff; font-weight: bold;">Size</span></td>
<td><span style="color: #fff; font-weight: bold;">Description</span></td>
<td><span style="color: #fff; font-weight: bold;">Required in</span></td>
</tr>
<tr>
<td><i>merchantId</i></td>
<td>Numeric</td>
<td style="text-align: center;">12</td>
<td>It is the shop’s ID number in PayU’s system, you will find this number in the account creation mail.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=01">transactionState</a></i></td>
<td>Numeric</td>
<td style="text-align: center;">2</td>
<td>Indicates the transaction’s status in the system.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>risk</i></td>
<td>Decimal (#.00)</td>
<td style="text-align: center;">&#8212;</td>
<td>The risk associated with the transaction. It has a value between 0 and 1. A higher value means greater risk. Comes in the ###.00 format.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=01">polResponseCode</a></i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">64</td>
<td>The response code.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>referenceCode</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">50</td>
<td>It is the reference of the sale or order. It must be unique for each transaction that is sent to the system.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>reference_pol</i></td>
<td>
<p align="center">Alfa Numeric</p>
</td>
<td style="text-align: center;">255</td>
<td>The reference or transaction number generated by PayU.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>signature</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Is the digital signature created for each of the transactions.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>polPaymentMethod</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The internal identifier of the used payment means.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=08">polPaymentMethodType</a></i></td>
<td>Numeric</td>
<td style="text-align: center;">2</td>
<td>The type of payment means used for payment.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>installmentsNumber</i></td>
<td>Numeric</td>
<td style="text-align: center;">2</td>
<td>Number of installments in which the credit card payment was deferred.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>TX_VALUE</i></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the total amount of the transaction. It can contain two decimal digits. For example 10000.00 or 10000</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>TX_TAX</i></td>
<td>Numeric</td>
<td style="text-align: center;">14,2</td>
<td>It is the value of the VAT of the transaction, if no VAT is sent, the system will apply 19% automatically. It can contain two decimal digits. Example 19000.00. In case you have no VAT you should fill out 0.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>buyerEmail</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Field that contains the buyer’s email to notify him of the result of the transaction by email. It is recommended to validate it if the data is taken on a form.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>processingDate</i></td>
<td>Date (YYYY-MM-DD HH:mm:ss)</td>
<td style="text-align: center;">&#8212;</td>
<td>The date the transaction was made.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>currency</i></td>
<td>Alpha Numeric</td>
<td style="text-align: center;">3</td>
<td>The respective currency in which the payment is made. The reconciliation process is performed in pesos at the representative rate of the day.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>cus</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The cus, unique tracking code, is the payment’s reference within the Bank, it applies only to payments with PSE.</td>
<td>Only applies to PSE Colombia</td>
</tr>
<tr>
<td><i>pseBank</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>The name of the bank, applies only to payments with PSE.</td>
<td>Only applies to PSE Colombia</td>
</tr>
<tr>
<td><i>lng</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">2</td>
<td>Language in which to display the payment gateway.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>description</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>It is the description of sale.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=01">lapResponseCode</a></i></td>
<td>Alfa numéric</td>
<td style="text-align: center;">64</td>
<td>Response code that PayU delivers.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>lapPaymentMethod</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Payment mean with which payment was made, for example VISA.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>lapPaymentMethodType</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Payment mean type with which payment was made, for example CREDIT_CARD.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=01">lapTransactionState</a></i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">32</td>
<td>-</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>message</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Description of the transaction status.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra1</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, description of purchase if you would like to display it on the response page.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra2</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, internal codes of the products.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>extra3</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Additional field to send information about the purchase. For example, internal codes of the products.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>authorizationCode</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">12</td>
<td>Authorization code of the transaction.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>merchant_address</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Address of the merchant.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>merchant_name</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Name of the merchant.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>merchant_url</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>URL of the merchant’s website.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>orderLanguage</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">2</td>
<td>Language of the order (ISO-639-1).</td>
<td>&#8212;</td>
</tr>
<tr>
<td><i>pseCycle</i></td>
<td>Numeric</td>
<td style="text-align: center;">&#8212;</td>
<td>Identifier generated by PSE.</td>
<td>Only applies to PSE Colombia.</td>
</tr>
<tr>
<td><i>pseReference1</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Reference no.1 for payments with PSE.</td>
<td>Only applies to PSE Colombia.</td>
</tr>
<tr>
<td><i>pseReference2</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Reference no.2 for payments with PSE.</td>
<td>Only applies to PSE Colombia.</td>
</tr>
<tr>
<td><i>pseReference3</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Reference no.3 for payments with PSE.</td>
<td>Only applies to PSE Colombia payments</td>
</tr>
<tr>
<td><i>telephone</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">20</td>
<td>Telephone number of the merchant.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>transactionId</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">36</td>
<td>Identifier of the transaction.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>trazabilityCode</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">64</td>
<td>Tracking Code for sale on the site of the merchant.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>TX_ADMINISTRATIVE_FEE</i></td>
<td>Decimal (#.00)</td>
<td style="text-align: center;">&#8212;</td>
<td>Value of the administrative fee.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>TX_TAX_ ADMINISTRATIVE_FEE</i></td>
<td>Decimal (#.00)</td>
<td style="text-align: center;">&#8212;</td>
<td>Value of the tax of the administrative fee.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i><i>TX_TAX_ADMINISTRATIVE<br />
_</i></i>FEE_RETURN_BASE</td>
<td>Decimal (#.00)</td>
<td style="text-align: center;">&#8212;</td>
<td>Administrative fee base rate value for tax refunds.</td>
<td style="text-align: center;">&#8212;</td>
</tr>
<tr>
<td><i>action_code_description *</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">255</td>
<td>Description code of the response from VISANET.</td>
<td>Only applies to VISANET Peru.</td>
</tr>
<tr>
<td><i>cc_holder *</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">150</td>
<td>Name of the cardholder.</td>
<td>Only applies to VISANET Peru.</td>
</tr>
<tr>
<td><i>cc_number *</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">&#8212;</td>
<td>Number of the credit card.</td>
<td>Only applies to VISANET Peru.</td>
</tr>
<tr>
<td><i>processing_date_time *</i></td>
<td>Date (YYYY-MM-DD HH:mm:ss)</td>
<td style="text-align: center;">&#8212;</td>
<td>Date and hour of the transaction being processed.</td>
<td>Only applies to VISANET Peru.</td>
</tr>
<tr>
<td><i>request_number *</i></td>
<td>Alfa Numeric</td>
<td style="text-align: center;">9</td>
<td>Number of the order + identifier of the transaction.</td>
<td>Only applies to VISANET Peru.</td>
</tr>
</table>
</div></div>


<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">GET example sent to the response page</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<pre style="overflow: auto;">
http://mytestsite.com/respuesta.php?&merchantId=508029&merchant_name=Test+PayU+Test&merchant_address=Av+123+Calle+12&telephone=7512354&merchant_url=http%3A%2F%2Fpruebaslapv.xtrweb.com&transactionState=6&lapTransactionState=DECLINED&message=Declinada&referenceCode=2015-05-27+13%3A04%3A37&reference_pol=7069375&transactionId=f5e668f1-7ecc-4b83-a4d1-0aaa68260862&description=test_payu_01&trazabilityCode=&cus=&orderLanguage=es&extra1=&extra2=&extra3=&polTransactionState=6&signature=e1b0939bbdc99ea84387bee9b90e4f5c&polResponseCode=5&lapResponseCode=ENTITY_DECLINED&risk=1.00&polPaymentMethod=10&lapPaymentMethod=VISA&polPaymentMethodType=2&lapPaymentMethodType=CREDIT_CARD&installmentsNumber=1&TX_VALUE=100.00&TX_TAX=.00&amp;currency=USD&lng=es&pseCycle=&buyerEmail=test%40payulatam.com&pseBank=&pseReference1=&pseReference2=&pseReference3=&authorizationCode=&TX_ADMINISTRATIVE_FEE=.00&TX_TAX_ADMINISTRATIVE_FEE=.00&TX_TAX_ADMINISTRATIVE_FEE_RETURN_BASE=.00
</pre>
</div>
</div>

<br/>
<span class="blue-text-13"><b>Signature validation</b></span><br/><br/>

<span class="grey-text-13">The signature validation allows you to check data integrity, you must generate the signature with the information you will find on the response page and compare it with the information from the signature parameter.<br>
To validate the signature on the response page, you should consider:</span><br/><br/>

<ol>
<li class="bullet-box">In order to get the new value new_value you always should approximate the
TX_VALUE to a decimal, using the rounding method "Round half to even":<br>
&nbsp;&nbsp;&nbsp;&nbsp;* If the first decimal is even and the second is 5, round it to the lower value.<br>
&nbsp;&nbsp;&nbsp;&nbsp;* If the first decimal is odd and the second is 5, round it to the higher value.<br>
&nbsp;&nbsp;&nbsp;&nbsp;* Otherwise you must round it to the nearest decimal.</li>

<li class="bullet-box">You must obtain the parameters to generate the signature: merchantId,
referenceCode, TX_VALUE, currency and transactionState from the response page, not from your database.</li>

<li class="bullet-box">You must store your ApiKey safely.</li>

<li class="bullet-box">Outline of the signature:

<pre>
"ApiKey~merchantId~referenceCode~new_value~currency~transactionState"
</pre>

Examples:
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
First decimal as even number and second 5</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<span class="grey-text-13">Your apiKey: 4Vj8eK4rloUd272L48hsrarnUA</span>

<span class="grey-text-13">Parameters obtained from the response page:<br>
merchantId = 508029<br>
referenceCode = TestPayU04<br>
TX_VALUE = 150.25<br>
currency = USD<br>
transactionState = 6<br>
signature = 00286dc735bd9eaa8ae3a3a4cbb40688</span>

<span class="grey-text-13">The signature is generated in the following way:</span>

<span class="blue-text-13">MD5(4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU04~150.2~USD~6) = <b>00286dc735bd9eaa8ae3a3a4cbb40688</b></span>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
First decimal as odd number and second 5</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<span class="grey-text-13">Your apiKey: 4Vj8eK4rloUd272L48hsrarnUA</span>

<span class="grey-text-13">Parameters obtained from the response page:
merchantId = 508029<br>
referenceCode = TestPayU04<br>
TX_VALUE = 150.35<br>
currency = USD<br>
transactionState = 6<br>
signature = 779f163be9347a691bcdb25064644795</span>

<span class="grey-text-13">The signature is generated in the following way:</span>

<span class="blue-text-13">MD5(4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU04~150.4~USD~6) = <b>779f163be9347a691bcdb25064644795</b></span>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
Other cases</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<span class="grey-text-13">Your apiKey: 4Vj8eK4rloUd272L48hsrarnUA</span>

<span class="grey-text-13">Parameters obtained from the response page:
merchantId = 508029<br>
referenceCode = TestPayU04<br>
TX_VALUE = 150.34<br>
currency = USD<br>
transactionState = 6<br>
signature = 01899cb431dd51623f5c94a62b1d2dc7</span>

<span class="grey-text-13">The signature is generated in the following way:</span>

<span class="blue-text-13">MD5(4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU04~150.3~USD~6) = <b>01899cb431dd51623f5c94a62b1d2dc7</b></span>
</div></div>
</li>
</div>

<!-- Signatue generator - response page -->
<div id="blue-box">
<span class="subtitle-page">Compare your signature</span>
<br>
<br>
<span class="grey-text-13">
<div>
<form method="POST" id="signature_form_response_page" >
    <table>
        <span class="blue-text-13"><b>Algorithm: &nbsp;</b></span>
        <select id = "signature_algorithm_response_page" class="calc_selector form_control">
            <option  value="md5">MD5</option>
            <option  value="sha1">SHA1</option>
            <option  value="sha256">SHA256</option>
        </select>
        <br>
        <br>
        <span class="calc_text">&nbsp;(</span>
        <input class="form_control" type="text"  id ="signature_apikey_response_page" name = "signature_apikey_response_page" placeholder="ApiKey" maxlength="26"> ~
        <input class="form_control number" type="text"  id ="signature_merchanId_response_page" name = "signature_merchanId_response_page" placeholder="MerchantId" maxlength="7"> ~
        <input class="form_control" type="text"  id ="signature_referenceCode_response_page" name = "signature_referenceCode_response_page" placeholder="Reference" maxlength="255"> ~
        <input class="form_control  number" type="text" id ="signature_amount_response_page" name = "signature_amount_response_page" placeholder="Amount" maxlength="14"> ~
        <select id = "signature_currency_response_page" class="calc_selector form_control" >
            <option  value="USD">USD</option>
            <option  value="COP">COP</option>
            <option  value="MXN">MXN</option>
            <option  value="ARS">ARS</option>
            <option  value="PEN">PEN</option>
            <option  value="BRL">BRL</option>
            <option  value="CLP">CLP</option>
        </select> ~
        <select id = "signature_transaction_state_response_page" class="calc_selector form_control" >
            <option  value="4">4 (Approved)</option>
            <option  value="6">6 (Declined)</option>
            <option  value="104">104 (Error)</option>
            <option  value="5">5 (Expired)</option>
            <option  value="7">7 (Pending)</option>
        </select>
        <span class="calc_text">)</span>
        <br>
        <br>
        <br>
        <span class="blue-text-13"><b>Result:&nbsp;</b></span><input class="form_control" id ="signature_generated_response_page" name = "signature_generated_response_page" value = ""  readonly />
    </table>
    <br>
    <table width="50%"  border="0" cellspacing="2" cellpadding="2">
        <input type="button" name="signature_generate_response_page" id="signature_generate_response_page" value="Generate signature" >
        <input type="button" name="signature_generate_again_response_page" id="signature_generate_again_response_page" value="Generate new signature" >
    </table>
</form>
</div>
</span>
</div>
<!-- End of signature generator - response page -->

</div>
<!--fin pagina de respuesta -->
<div id="squelch-taas-tab-content-3">

<!--pagina de confirmacion -->
<div id="pagina-confirmacion" class="payu-fragment">

<span class="subtitle-page">Confirmation page</span>

<span class="grey-text-13">The confirmation page lets you update the databases on your system. Because of this, it should not include HTML code and will never be visible to the buyer. This page is optional. When a transaction is complete (i.e. when approved, rejected or when it is canceled) our platform sends the variables via the HTTP POST method.</span>

<span class="grey-text-13">In the confirmation page, you must capture the data that you want stored in the database. This capture will depend on the programming language used.</span>

</div>


<div id="blue-box">
<div id="info-box">Consider:</div>
<ol>

<li class="bullet-box">If youre site is restricted with "basic access authentication" or similar, disable it for the confirmation url.</li>
<li class="bullet-box">The IP associated with the confirmation URL should be public; no access from intranet or localhost.</li>
<li class="bullet-box">If you're using https, you must make sure you have a valid certificate.</li>
<li class="bullet-box">Temporarily, do not use security certificates elliptic curve or those who have the suite of encryption TLS_ECDHE_ECDSA_WITH_RC4_128_SHA in your payment requests.</li>
<li class="bullet-box">PayU assumes that the confirmation page is reported correctly if the system receives the HTTP 200 code; otherwise, it will make a maximum of nine (9) attempts to send the confirmation page to your system. If, after these attempts, HTTP 200 code is received, the system sends an email alert.</li>
<li class="bullet-box">PayU reports the confirmation page once the transaction has a final status, ie, when approved, rejected or expired. If a transaction is in progress (waiting for payment or analysis), it will not report until it has a final status.</li>
</ol>
</div>

&nbsp;<br>

<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
Variables sent with the confirmation page</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<table class="table-d" >
<tr bgcolor="#696a6c">
<td><span style="color: #fff; font-weight: bold;">Field</span></td>
<td><span style="color: #fff; font-weight: bold;">Type</span></td>
<td><span style="color: #fff; font-weight: bold;">Size</span></td>
<td><span style="color: #fff; font-weight: bold;">Description</span></td>
</tr>
<tr>
<td width="181"><em>merchant_id </em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">12</td>
<td width="648">Is your unique identifier number in the PAYU system, this number can be found in the creation account email or in the administrative module.</td>
</tr>
<tr>
<td width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=02">state_pol</a></em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">32</td>
<td width="648">The transaction state in the system.</td>
</tr>
<tr>
<td width="181"><em>risk</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">The risk associated to the transaction. Takes a value between 0 and 1. The bigger the number is, the higher the risk. Comes with a format ###.00</td>
</tr>
<tr>
<td width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=02">response_code_pol</a></em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The response code of PAYU.</td>
</tr>
<tr>
<td width="181"><em>reference_sale</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">It is the sale or order reference. It must be unique for each transaction that is sent to the system.</td>
</tr>
<tr>
<td width="181"><em>reference_pol</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The reference number for the transaction generated by PAYU.</td>
</tr>
<tr>
<td width="181"><em>sign</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The digital signature is created for each of the transactions. </td>
</tr>
<tr>
<td width="181"><em>extra1</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Field where additional information about the purchase can be sent. For example, a description of the purchase can be included in the confirmation page.</td>
</tr>
<tr>
<td width="181"><em>extra2</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">An additional field to send information about the purchase (I.e. internal product codes).</td>
</tr>
<tr>
<td width="181"><em>payment_method</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">The internal identifier of the payment method used.</td>
</tr>
<tr>
<td width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=08">payment_method_type</a></em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">The type of payment method used</td>
</tr>
<tr>
<td width="181"><em>installments_number</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Number of installments in which the credit card payment was deferred.</td>
</tr>
<tr>
<td width="181"><em>value</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">14,2</td>
<td width="648">It is the total amount of the transaction. It can contain two decimal digits. Eg 10000.00 or 10000</td>
</tr>
<tr>
<td width="181"><em>tax</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">14,2</td>
<td width="648">It is the transaction VAT. If no VAT % is sent, the system will apply the 16 % automatically . It can contain two decimal digits. Eg 19000.00 . In case you have no VAT, the percentage should be set as 0.</td>
</tr>
<tr>
<td width="181"><em>additional_value</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">14,2</td>
<td width="648">Additional Value not commissionable</td>
</tr>
<tr>
<td width="181"><em>transaction_date</em></td>
<td width="185">Date (YYYY-MM-DD HH:mm:ss)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">The date the transaction was made.</td>
</tr>
<tr>
<td width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=06">currency</a></em></td>
<td width="185">Alpha numeric</td>
<td style="text-align: center;" width="63">3</td>
<td width="648">The currency in which the payment is made. The reconciliation process is in pesos at the representative rate of the day.</td>
</tr>
<tr>
<td width="181"><em>email_buyer</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Field that contains the email of the buyer for notification of the result of the transaction by email. Validation is recommended if you collect this data in a form.</td>
</tr>
<tr>
<td width="181"><em>cus</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">64</td>
<td width="648">The cus is a unique tracking code which serves as a reference of payment between PayU and the bank and applies only to PSE payments.</td>
</tr>
<tr>
<td width="181"><em>pse_bank</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The name of the bank, applies only to PSE payments.</td>
</tr>
<tr>
<td width="181"><em>test</em></td>
<td width="185">Logic: (true, false)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Variable to identify whether the operation was a test</td>
</tr>
<tr>
<td width="181"><em>description</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">It is the description of the sale.</td>
</tr>
<tr>
<td width="181"><em>billing_address</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The billing address.</td>
</tr>
<tr>
<td width="181"><em>shipping_address</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">50</td>
<td width="648">The delivery address for the order.</td>
</tr>
<tr>
<td width="181"><em>phone</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">20</td>
<td width="648">The home phone of the buyer.</td>
</tr>
<tr>
<td width="181"><em>office_phone</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">20</td>
<td width="648">The daytime phone of the buyer.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>account_number_ach</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">36</td>
<td width="648">ACH account number.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>account_type_ach</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">36</td>
<td width="648">ACH account type.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>administrative_fee</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Value of the administrative fee</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>administrative_fee_base</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Base value of the administrative fee</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>administrative_fee_tax</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Value of the tax on the administrative fee</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>airline_code</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">4</td>
<td width="648">Airline Code</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>attempts</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Number of attempts for payment confirmation.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>authorization_code</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">12</td>
<td width="648">Authorization code of the transaction</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>bank_id</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Bank identifier</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>billing_city</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The billing city.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>billing_country</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">2</td>
<td width="648">The ISO code related to the billing country.</a>
</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>commision_pol</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Value of the commission for PAYU</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>commision_pol_currency</em></td>
<td width="185">Alfa numeric</td>
<td style="text-align: center;" width="63">3</td>
<td width="648">Currency of the commission for PAYU</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>customer_number</em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Customer number.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>date</em></td>
<td width="185">date (YYYY-MM-DD HH:mm:ss)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Date of transaction.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>error_code_bank</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Bank error code.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>error_message_bank</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Bank error message</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>exchange_rate</em></td>
<td width="185">Decimal (#.00)</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Value of the exchange rate.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>ip</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">39</td>
<td width="648">IP address from where the transaction occurred.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>nickname_buyer</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">150</td>
<td width="648">Short name of the buyer.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>nickname_seller</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">150</td>
<td width="648">Short name of the seller.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=08">payment_method_id</a></em></td>
<td width="185">Numeric</td>
<td style="text-align: center;" width="63">&#8212;</td>
<td width="648">Identifier of the payment method.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>payment_request_state</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">32</td>
<td width="648">Status of payment request.</td>
</tr>
<tr>
<td width="181"><em>pseReference1</em></td>
<td valign="top" width="185">Alfa Numeric</td>
<td style="text-align: center;" valign="top" width="63">255</td>
<td valign="top" width="648">Reference no. 1 for PSE payments.</td>
</tr>
<tr>
<td width="181"><em>pseReference2</em></td>
<td valign="top" width="185">Alfa Numeric</td>
<td style="text-align: center;" valign="top" width="63">255</td>
<td valign="top" width="648">Reference no. 2 for PSE payments.</td>
</tr>
<tr>
<td width="181"><em>pseReference3</em></td>
<td valign="top" width="185">Alfa Numeric</td>
<td style="text-align: center;" valign="top" width="63">255</td>
<td valign="top" width="648">Reference no. 3 for PSE payments.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em><a class="green-link" href="{{ site.baseurl }}/en/web_checkout/variables.html?opened_div=02">response_message_pol</a></em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">The response message of PAYU.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>shipping_city</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">50</td>
<td width="648">The shipping city.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>shipping_country</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">2</td>
<td width="648">The ISO code related to the shipping country </td>
</tr>
<tr>
<td valign="bottom" width="181"><em>transaction_bank_id</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Identifier of the transaction in the bank’s systems.</td>
</tr>
<tr>
<td valign="bottom" width="181"><em>transaction_id</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">36</td>
<td width="648">Identifier of the transaction.</td>
</tr>

<tr>
<td valign="bottom" width="181"><em>payment_method_name</em></td>
<td width="185">Alfa Numeric</td>
<td style="text-align: center;" width="63">255</td>
<td width="648">Payment mean with which payment was made, for example VISA.</td>
</tr>

</table>
</div></div>



<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">POST example set to the confirmation page</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<pre style="overflow: auto;">
response_code_pol=5
phone=
additional_value=0.00
test=1
transaction_date=2015-05-27 13:07:35
cc_number=************0004
cc_holder=test_buyer
error_code_bank=
billing_country=CO
bank_referenced_name=
description=test_payu_01
administrative_fee_tax=0.00
value=100.00
administrative_fee=0.00
payment_method_type=2
office_phone=
email_buyer=test@payulatam.com
response_message_pol=ENTITY_DECLINED
error_message_bank=
shipping_city=
transaction_id=f5e668f1-7ecc-4b83-a4d1-0aaa68260862
sign=e1b0939bbdc99ea84387bee9b90e4f5c
tax=0.00
payment_method=10
billing_address=cll 93
payment_method_name=VISA
pse_bank=
state_pol=6
date=2015.05.27 01:07:35
nickname_buyer=
reference_pol=7069375
currency=USD
risk=1.0
shipping_address=
bank_id=10
payment_request_state=R
customer_number=
administrative_fee_base=0.00
attempts=1
merchant_id=508029
exchange_rate=2541.15
shipping_country=
installments_number=1
franchise=VISA
payment_method_id=2
extra1=
extra2=
antifraudMerchantId=
extra3=
nickname_seller=
ip=190.242.116.98
airline_code=
billing_city=Bogota
pse_reference1=
reference_sale=2015-05-27 13:04:37
pse_reference3=
pse_reference2=
</pre>
</div>
</div>
<div id="blue-box">
<span class="grey-text-13">
<span class="blue-text-13">Note:</span>
<br/>
If your business model is subject to inventory or reservations, we recommend you to use the query API as an alternative confirmation mechanism: <a href="{{ site.baseurl }}/en/api/queries.html" class="green-link" >API</a> or <a href="{{ site.baseurl }}/en/sdk/queries.html" class="green-link">SDK</a>.
</span>
</div>
<br/>
<br/>
<span class="blue-text-13"><b>Signature validation</b></span><br/><br/>

<span class="grey-text-13"> The signature validation allows you to check data integrity, you must generate the signature with the information you'll find on the confirmation page and compare it with the information from the sign parameter.<br>
To validate the signature on the confirmation page, you should consider:</span><br/><br/>

<ol>
<li class="bullet-box">If the second decimal of the value parameter is zero, e.g. 150.00<br>
the parameter new_value to generate the signature should only have one decimal, as follows: 150.0</li>

<li class="bullet-box">If the second decimal of the value parameter is different from zero, e.g.  150.26<br>
the parameter new_value to generate the signature should have two decimals, as follows: 150.26</li>
<li class="bullet-box">You must obtain the parameters to generate the signature: merchant_id, reference_sale, value, currency and state_pol from your confirmation page, not from your database.</li>

<li class="bullet-box">You must store your ApiKey safely.</li>

<li class="bullet-box">Outline of the signature:

<pre>
"ApiKey~merchant_id~reference_sale~new_value~currency~state_pol"
</pre>

Examples:
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
With one decimal</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<span class="grey-text-13">Your apiKey: 4Vj8eK4rloUd272L48hsrarnUA</span>

<span class="grey-text-13">Parameters obtained from the confirmation page<br>
merchant_id = 508029<br>
reference_sale = TestPayU04<br>
value = 150.00<br>
currency = USD<br>
state_pol = 6<br>
sign = df67936f918887b2aa31688a77a10fe1</span>

<span class="grey-text-13">The signature is generated in the following way:</span>

<span class="blue-text-13">MD5(4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU04~150.0~USD~6) = <b>df67936f918887b2aa31688a77a10fe1</b></span>
</div></div>
<div class="squelch-taas-toggle squelch-taas-override" data-speed="800" data-active="" data-theme="jqueryui" >
<h3 >
<a href="">
With two decimals</a>
</h3>
<div class="squelch-taas-toggle-shortcode-content" >
<span class="grey-text-13">Your apiKey: 4Vj8eK4rloUd272L48hsrarnUA</span>

<span class="grey-text-13">Parameters obtained from the confirmation page:<br>
merchant_id = 508029<br>
reference_sale = TestPayU05<br>
value = 150.26<br>
currency = USD<br>
state_pol = 4<br>
sign = 1d95778a651e11a0ab93c2169a519cd6</span>

<span class="grey-text-13">The signature is generated in the following way:</span>

<span class="blue-text-13">MD5(4Vj8eK4rloUd272L48hsrarnUA~508029~TestPayU05~150.26~USD~4) = <b>1d95778a651e11a0ab93c2169a519cd6</b></span>
</div></div>

<!-- Signature generator - confirmation page -->
<div id="blue-box">
<span class="subtitle-page">Compare your signature</span>
<br>
<br>
<span class="grey-text-13">
<div>
<form method="POST" id="signature_form_confirmation_page" >
    <table>
        <span class="blue-text-13"><b>Algorithm: &nbsp;</b></span>
        <select id = "signature_algorithm_confirmation_page" class="calc_selector form_control">
            <option  value="md5">MD5</option>
            <option  value="sha1">SHA1</option>
            <option  value="sha256">SHA256</option>
        </select>
        <br>
        <br>
        <span class="calc_text">&nbsp;(</span>
        <input class="form_control" type="text"  id ="signature_apikey_confirmation_page" name = "signature_apikey_confirmation_page" placeholder="ApiKey" maxlength="26"> ~
        <input class="form_control number" type="text"  id ="signature_merchanId_confirmation_page" name = "signature_merchanId_confirmation_page" placeholder="MerchantId" maxlength="7"> ~
        <input class="form_control" type="text"  id ="signature_referenceCode_confirmation_page" name = "signature_referenceCode_confirmation_page" placeholder="Reference" maxlength="255"> ~
        <input class="form_control  number" type="text" id ="signature_amount_confirmation_page" name = "signature_amount_confirmation_page" placeholder="Amount" maxlength="14"> ~
        <select id = "signature_currency_confirmation_page" class="calc_selector form_control" >
            <option  value="USD">USD</option>
            <option  value="COP">COP</option>
            <option  value="MXN">MXN</option>
            <option  value="ARS">ARS</option>
            <option  value="PEN">PEN</option>
            <option  value="BRL">BRL</option>
            <option  value="CLP">CLP</option>
        </select> ~
        <select id = "signature_state_pol_confirmation_page" class="calc_selector form_control" >
            <option  value="4">4 (Approved)</option>
            <option  value="6">6 (Declined)</option>
            <option  value="5">5 (Expired)</option>
        </select>
        <span class="calc_text">)</span>
        <br>
        <br>
        <br>
        <span class="blue-text-13"><b>Result:&nbsp;</b></span><input class="form_control" id ="signature_generated_confirmation_page" name = "signature_generated_confirmation_page" value = ""  readonly />
    </table>
    <br>
    <table width="50%"  border="0" cellspacing="2" cellpadding="2">
        <input type="button" name="signature_generate_confirmation_page" id="signature_generate_confirmation_page" value="Generate signature" >
        <input type="button" name="signature_generate_again_confirmation_page" id="signature_generate_again_confirmation_page" value="Generate new signature" >
    </table>
</form>
</div>
</span>
</div>
<!-- End of signature generator - confirmation page -->

<br/>

<span class="blue-text-13"><b>Payment retries</b></span><br/><br/>
<span class="grey-text-13">When a transaction is rejected, it will give the option to the payer to retry the payment with the same payment method or another, so keep in mind that for every attempt the system will make the call to the confirmation page with the corresponding transaction status.
<br>
<br>
Each of these calls will be made with the same payment reference (reference_sale) and with the same order identifier (reference_pol) but with different transaction identifier (transaction_id). Therefore you can receive several calls to the confirmation page for the same sale.
<br>
<br>
Below, an example of a rejected attempt and its approved retry:

<pre>
reference_sale=2015-05-27 13:04:37
reference_pol=7069375
transaction_id=f5e668f1-7ecc-4b83-a4d1-0aaa68260862
state_pol=6

reference_sale=2015-05-27 13:04:37
reference_pol=7069375
transaction_id=01cfdce8-68d5-4a4c-aabf-d89370a0b92f
state_pol=4
</pre>

Note that if one of those calls to the confirmation page indicates that a payment reference (reference_sale) was approved, you can be certain you will not receive more reports to the same reference.
</span>

</div>
</div>

</div>

</div>
</div>
</div>
